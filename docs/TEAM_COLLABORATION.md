# ğŸš€ åœ˜éšŠå”ä½œæŒ‡å— - ç©¿æ­æ¨è–¦ AI å°ˆæ¡ˆ

> **é©ç”¨å°è±¡**: éœ€è¦è¨­å®šç’°å¢ƒã€åˆä½µåˆ†æ”¯ã€è§£æ±ºè¡çªçš„çµ„å“¡  
> **é–±è®€æ™‚é–“**: 15-20 åˆ†é˜  
> **æ›´æ–°æ—¥æœŸ**: 2025-01-19

---

## ğŸ¯ ä½¿ç”¨æŒ‡å—

### ğŸ“– é–±è®€é †åº
1. **æ–°çµ„å“¡**: å…ˆçœ‹ [README.md](README.md) å¿«é€Ÿäº†è§£å°ˆæ¡ˆ
2. **è¦è¨­å®šç’°å¢ƒ**: ç¹¼çºŒçœ‹æœ¬æ–‡çš„ [ç’°å¢ƒè¨­å®š](#ç’°å¢ƒè¨­å®š) ç« ç¯€
3. **è¦åˆä½µä»£ç¢¼**: ç›´æ¥è·³åˆ° [åˆ†æ”¯åˆä½µæŒ‡å—](#åˆ†æ”¯åˆä½µæŒ‡å—)
4. **é‡åˆ°å•é¡Œ**: æŸ¥çœ‹ [å¸¸è¦‹å•é¡Œ](#å¸¸è¦‹å•é¡Œ) æˆ– [README.md](README.md)

---

## ğŸ“‹ ç›®éŒ„
1. [å°ˆæ¡ˆæ¦‚è¿°](#å°ˆæ¡ˆæ¦‚è¿°)
2. [æŠ€è¡“æ¶æ§‹](#æŠ€è¡“æ¶æ§‹)
3. [ç’°å¢ƒè¨­å®š](#ç’°å¢ƒè¨­å®š)
4. [é‡è¦ä¿®æ”¹è¨˜éŒ„](#é‡è¦ä¿®æ”¹è¨˜éŒ„)
5. [è·¨å¹³å°æ³¨æ„äº‹é …](#è·¨å¹³å°æ³¨æ„äº‹é …)
6. [åˆ†æ”¯åˆä½µæŒ‡å—](#åˆ†æ”¯åˆä½µæŒ‡å—)
7. [å¸¸è¦‹å•é¡Œ](#å¸¸è¦‹å•é¡Œ)

---

## ğŸ“Œ å°ˆæ¡ˆæ¦‚è¿°

### å°ˆæ¡ˆè³‡è¨Š
- **åç¨±**: ç©¿æ­æ¨è–¦ AI ç¶²ç«™
- **æè¿°**: ä½¿ç”¨ AI æä¾›å€‹æ€§åŒ–ç©¿æ­å»ºè­°,æ”¯æ´å°è©±å¼äº’å‹•
- **æŠ€è¡“æ£§**: Python Flask + MySQL + Docker + Google Gemini API
- **ç•¶å‰åˆ†æ”¯**: `Jinja`
- **éƒ¨ç½²æ–¹å¼**: Docker Compose

### æ ¸å¿ƒåŠŸèƒ½
1. âœ… AI èŠå¤©æ©Ÿå™¨äºº (Google Gemini 2.0 Flash Lite)
2. âœ… è³‡æ–™åº«ç©¿æ­æ¨è–¦ç³»çµ±
3. âœ… ç”¨æˆ¶è¡£æ«ƒç®¡ç†
4. âœ… å°è©±è¨˜æ†¶åŠŸèƒ½
5. âœ… å¤š AI æ¨¡å‹å‚™æ´ (Gemini/Groq/DeepSeek)

---

## ğŸ—ï¸ æŠ€è¡“æ¶æ§‹

### ç³»çµ±æ¶æ§‹åœ–
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ä½¿ç”¨è€…ç€è¦½å™¨                          â”‚
â”‚              http://localhost:5001                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Flask Web Server (port 5001)                â”‚
â”‚  - è·¯ç”±: /recommend, /items, /recommend_page            â”‚
â”‚  - æ¨¡æ¿å¼•æ“: Jinja2                                      â”‚
â”‚  - JSON API + HTML é é¢                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                       â”‚
             â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LangChain AI Agent    â”‚  â”‚   MySQL 8.0 Database     â”‚
â”‚  - Gemini 2.0 Lite     â”‚  â”‚   - outfit_db            â”‚
â”‚  - é€Ÿç‡é™åˆ¶: 2 ç§’      â”‚  â”‚   - 11 å¼µè³‡æ–™è¡¨          â”‚
â”‚  - Token å„ªåŒ–          â”‚  â”‚   - UTF-8mb4 ç·¨ç¢¼        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### è³‡æ–™åº«çµæ§‹ (11 å¼µè¡¨)
```sql
1. outfits          -- ç©¿æ­çµ„åˆ (3 ç­†æ¸¬è©¦è³‡æ–™)
2. items            -- å–®å“é …ç›® (9 ç­†æ¸¬è©¦è³‡æ–™)
3. outfit_items     -- ç©¿æ­èˆ‡å–®å“é—œè¯
4. users            -- ç”¨æˆ¶è³‡æ–™ (4 ç­†æ¸¬è©¦ç”¨æˆ¶)
5. user_wardrobe    -- ç”¨æˆ¶è¡£æ«ƒ
6. outfit_ratings   -- ç©¿æ­è©•åˆ†
7. partner_products -- åˆä½œå•†å“
8. user_preferences -- ç”¨æˆ¶åå¥½
9. user_body_info   -- ç”¨æˆ¶é«”å‹è³‡æ–™
10. conversation_history -- å°è©±è¨˜éŒ„
11. sessions        -- å°è©± session
```

### Docker å®¹å™¨æ¶æ§‹
```yaml
services:
  mysql:        # è³‡æ–™åº«æœå‹™ (port 3306)
  flask:        # Python å¾Œç«¯ (port 5001)
  phpmyadmin:   # è³‡æ–™åº«ç®¡ç†ä»‹é¢ (port 8080)
```

---

## ğŸ› ï¸ ç’°å¢ƒè¨­å®š

### å‰ç½®éœ€æ±‚
| è»Ÿé«” | Windows | macOS | ç”¨é€” |
|------|---------|-------|------|
| Docker Desktop | âœ… å¿…é ˆ | âœ… å¿…é ˆ | å®¹å™¨åŒ–éƒ¨ç½² |
| Git | âœ… å¿…é ˆ | âœ… å¿…é ˆ | ç‰ˆæœ¬æ§åˆ¶ |
| æ–‡å­—ç·¨è¼¯å™¨ | VS Code æ¨è–¦ | VS Code æ¨è–¦ | é–‹ç™¼å·¥å…· |

### å¿«é€Ÿå•Ÿå‹•æ­¥é©Ÿ

#### Step 1: å…‹éš†å°ˆæ¡ˆ
```bash
# Windows (PowerShell æˆ– Git Bash)
git clone https://github.com/memory9802/AI-project.git
cd AI-project
git checkout Jinja

# macOS (Terminal)
git clone https://github.com/memory9802/AI-project.git
cd AI-project
git checkout Jinja
```

#### Step 2: é…ç½®ç’°å¢ƒè®Šæ•¸
```bash
# è¤‡è£½ç¯„ä¾‹æª”æ¡ˆ
# Windows (PowerShell)
Copy-Item .env.example .env

# macOS / Linux
cp .env.example .env
```

ç·¨è¼¯ `.env` æª”æ¡ˆ:
```properties
# AI API Keys (å¿…é ˆè¨­å®š)
LLM_API_KEY=AIzaSyAaDSYKxfoq_4nVKaN9_2PE8R4lmhWYMfQ  # åœ˜éšŠå…±ç”¨
GROQ_API_KEY=                                        # å¯é¸
DEEPSEEK_API_KEY=                                    # å¯é¸

# Google Generative AI API è¨­å®š
GOOGLE_GENAI_API_VERSION=v1

# Database Configuration (Docker æ¨¡å¼ - ä¸è¦æ”¹)
DB_HOST=mysql          # å®¹å™¨å…§éƒ¨ä½¿ç”¨æœå‹™åç¨±
DB_PORT=3306
DB_USER=root
DB_PASS=rootpassword
DB_NAME=outfit_db
```

#### Step 3: å•Ÿå‹•æœå‹™
```bash
# Windows (PowerShell)
docker compose up -d --build

# macOS
docker compose up -d --build

# ç­‰å¾… 10-15 ç§’è®“å®¹å™¨å®Œå…¨å•Ÿå‹•
```

#### Step 4: é©—è­‰é‹è¡Œ
```bash
# æª¢æŸ¥å®¹å™¨ç‹€æ…‹
docker compose ps

# æ‡‰è©²çœ‹åˆ° 3 å€‹å®¹å™¨éƒ½æ˜¯ "Up" ç‹€æ…‹:
# - outfit-mysql
# - outfit-flask
# - outfit-phpmyadmin
```

#### Step 5: æ¸¬è©¦åŠŸèƒ½
```bash
# æ¸¬è©¦ API å¥åº·æª¢æŸ¥
# Windows (PowerShell)
Invoke-WebRequest -Uri http://localhost:5001/ping | Select-Object -ExpandProperty Content

# macOS / Linux
curl http://localhost:5001/ping

# é æœŸè¼¸å‡º:
# {"ai_enabled":true,"db_host":"mysql","gemini_model":"gemini-2.0-flash-lite","status":"ok"}
```

```bash
# æ¸¬è©¦ AI èŠå¤©åŠŸèƒ½
# Windows (PowerShell)
$body = @{
    message = "æ¨è–¦ç´„æœƒç©¿æ­"
    user_id = 1
} | ConvertTo-Json

Invoke-RestMethod -Uri http://localhost:5001/recommend -Method Post -Body $body -ContentType "application/json"

# macOS / Linux
curl -X POST http://localhost:5001/recommend \
  -H "Content-Type: application/json" \
  -d '{"message":"æ¨è–¦ç´„æœƒç©¿æ­","user_id":1}'
```

### å­˜å–æœå‹™
| æœå‹™ | URL | èªªæ˜ |
|------|-----|------|
| ç¶²ç«™ä¸»é  | http://localhost:5001 | å‰ç«¯ç¶²é  |
| API ç«¯é» | http://localhost:5001/recommend | AI æ¨è–¦ API |
| phpMyAdmin | http://localhost:8080 | è³‡æ–™åº«ç®¡ç† (å¸³è™Ÿ: root / rootpassword) |

---

## ğŸ“ é‡è¦ä¿®æ”¹è¨˜éŒ„

### ğŸ”§ å·²ä¿®å¾©çš„å•é¡Œ
1. âœ… **è³‡æ–™åº«äº‚ç¢¼** â†’ UTF-8mb4 ç·¨ç¢¼é…ç½®
2. âœ… **AI æœå‹™ç„¡æ³•ä½¿ç”¨** â†’ API é…é¡å„ªåŒ–
3. âœ… **Rate Limit éŒ¯èª¤** â†’ é€Ÿç‡é™åˆ¶å¯¦æ–½
4. âœ… **æ¨¡å‹ä¸ç›¸å®¹** â†’ åˆ‡æ›åˆ° gemini-2.0-flash-lite

### ğŸ¯ æ ¸å¿ƒä¿®æ”¹æª”æ¡ˆæ¸…å–®

#### 1. `langchain_agent.py` (AI æ ¸å¿ƒé‚è¼¯)
**ä¿®æ”¹åŸå› **: API é…é¡å„ªåŒ–ã€é€Ÿç‡é™åˆ¶ã€æ¨¡å‹åˆ‡æ›

```python
# ğŸ”´ é—œéµä¿®æ”¹:
MIN_REQUEST_INTERVAL = 2  # é€Ÿç‡é™åˆ¶: æ¯æ¬¡è«‹æ±‚é–“éš” 2 ç§’

model="gemini-2.0-flash-lite"  # æ¨¡å‹å¾ 2.0-flash æ”¹ç‚º lite
temperature=0.5                # å¾ 0.7 é™åˆ° 0.5
max_output_tokens=300          # å¾ 500 é™åˆ° 300

# ç°¡åŒ–çš„ system_prompt (å¾ ~1000 tokens é™åˆ° ~200)
```

**åŠŸèƒ½èªªæ˜**:
- å¤šæ¨¡å‹å‚™æ´ (Gemini â†’ Groq â†’ DeepSeek)
- å°è©±è¨˜æ†¶ç®¡ç† (æ¯å€‹ç”¨æˆ¶ç¨ç«‹ session)
- é€Ÿç‡é™åˆ¶é˜²æ­¢ Rate Limit

#### 2. `app.py` (Flask ä¸»ç¨‹å¼)
**ä¿®æ”¹åŸå› **: è³‡æ–™åº«ç·¨ç¢¼ã€æ¨¡å‹è¨­å®š

```python
# ğŸ”´ é—œéµä¿®æ”¹:
GEMINI_MODEL = "gemini-2.0-flash-lite"  # æ¨¡å‹æ›´æ–°

app.config['JSON_AS_ASCII'] = False  # æ”¯æ´ä¸­æ–‡ JSON

# è³‡æ–™åº«é€£ç·šåŠ å…¥ charset
pymysql.connect(
    charset='utf8mb4',
    use_unicode=True
)
```

**è·¯ç”±æ¸…å–®**:
- `POST /recommend` - AI æ¨è–¦ç«¯é»
- `GET /items` - ç²å–å–®å“è³‡æ–™
- `POST /clear_session` - æ¸…é™¤å°è©±è¨˜æ†¶
- `GET /ping` - å¥åº·æª¢æŸ¥

#### 3. `docker-compose.yml` (å®¹å™¨ç·¨æ’)
**ä¿®æ”¹åŸå› **: UTF-8 ç·¨ç¢¼ã€ç«¯å£æ˜ å°„

```yaml
# ğŸ”´ é—œéµä¿®æ”¹:
mysql:
  command:
    - --character-set-server=utf8mb4      # UTF-8 ç·¨ç¢¼
    - --collation-server=utf8mb4_unicode_ci
  environment:
    MYSQL_CHARSET: utf8mb4

flask:
  ports:
    - "5001:5000"  # âš ï¸ å¤–éƒ¨ç«¯å£æ˜¯ 5001,ä¸æ˜¯ 5000
```

#### 4. `.env` (ç’°å¢ƒè®Šæ•¸)
**ä¿®æ”¹åŸå› **: Docker æ¨¡å¼é…ç½®ã€API è¨­å®š

```properties
# ğŸ”´ é—œéµä¿®æ”¹:
LLM_API_KEY=AIzaSyAaDSYKxfoq_4nVKaN9_2PE8R4lmhWYMfQ  # æ–° API key
DB_HOST=mysql  # Docker æ¨¡å¼ä½¿ç”¨æœå‹™åç¨±(ä¸æ˜¯ localhost)
GOOGLE_GENAI_API_VERSION=v1  # å¼·åˆ¶ä½¿ç”¨ v1 API
```

#### 5. `init/init.sql` (è³‡æ–™åº«åˆå§‹åŒ–)
**ä¿®æ”¹åŸå› **: çµ±ä¸€è³‡æ–™åº«çµæ§‹ã€æ–°å¢æ¸¬è©¦è³‡æ–™

```sql
-- ğŸ”´ é—œéµä¿®æ”¹:
CREATE DATABASE outfit_db CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- 11 å¼µè¡¨çš„å®Œæ•´çµæ§‹
-- 3 çµ„ç©¿æ­æ¸¬è©¦è³‡æ–™
-- 9 å€‹å–®å“æ¸¬è©¦è³‡æ–™
-- 4 å€‹æ¸¬è©¦ç”¨æˆ¶
```

### ğŸ—‘ï¸ å·²åˆªé™¤çš„è¡çªæª”æ¡ˆ
- âŒ `init/outfit_db.sql` (èˆ‡ init.sql é‡è¤‡,å·²åˆªé™¤)

---

## ğŸ–¥ï¸ è·¨å¹³å°æ³¨æ„äº‹é …

### Docker æŒ‡ä»¤å·®ç•°

| æ“ä½œ | Windows (PowerShell) | macOS / Linux |
|------|---------------------|---------------|
| å•Ÿå‹•å®¹å™¨ | `docker compose up -d` | `docker compose up -d` |
| åœæ­¢å®¹å™¨ | `docker compose down` | `docker compose down` |
| æŸ¥çœ‹æ—¥èªŒ | `docker compose logs -f flask` | `docker compose logs -f flask` |
| é‡å»ºå®¹å™¨ | `docker compose up -d --build` | `docker compose up -d --build` |

### è·¯å¾‘è¡¨ç¤ºæ³•å·®ç•°

```bash
# Windows (PowerShell)
C:\Users\YourName\Desktop\AI-project\app.py

# macOS / Linux
/Users/YourName/Desktop/AI-project/app.py

# âš ï¸ æ³¨æ„: 
# - Windows ä½¿ç”¨åæ–œç·š \
# - macOS/Linux ä½¿ç”¨æ­£æ–œç·š /
# - Docker å…§éƒ¨çµ±ä¸€ä½¿ç”¨ /
```

### è¡Œå°¾ç¬¦è™Ÿ (Line Endings)

**å•é¡Œ**: Windows ä½¿ç”¨ CRLF (`\r\n`),macOS/Linux ä½¿ç”¨ LF (`\n`)

**è§£æ±ºæ–¹æ¡ˆ**: Git è‡ªå‹•è½‰æ›
```bash
# åœ¨ .gitattributes å·²è¨­å®š:
* text=auto
*.py text eol=lf
*.sh text eol=lf
```

### Docker Desktop è¨­å®š

#### Windows æ³¨æ„äº‹é …:
1. âœ… å•Ÿç”¨ WSL2 å¾Œç«¯ (Settings â†’ General â†’ Use WSL2)
2. âœ… åˆ†é…è¶³å¤ è³‡æº (Settings â†’ Resources)
   - Memory: æœ€å°‘ 4GB
   - CPUs: æœ€å°‘ 2 æ ¸å¿ƒ
3. âœ… æª”æ¡ˆå…±äº«æ¬Šé™ (Settings â†’ Resources â†’ File Sharing)

#### macOS æ³¨æ„äº‹é …:
1. âœ… Docker Desktop ç‰ˆæœ¬ 4.0+
2. âœ… åˆ†é…è³‡æº (Preferences â†’ Resources)
   - Memory: æœ€å°‘ 4GB
   - CPUs: æœ€å°‘ 2 æ ¸å¿ƒ

---

## ğŸ”€ åˆ†æ”¯åˆä½µæŒ‡å—

### ç•¶å‰é–‹ç™¼ç‹€æ…‹
```
main
 â””â”€â”€ Jinja (ä½ çš„åˆ†æ”¯ - macOS)
      â”œâ”€â”€ å·²ä¿®å¾©: è³‡æ–™åº«äº‚ç¢¼
      â”œâ”€â”€ å·²ä¿®å¾©: AI Rate Limit
      â”œâ”€â”€ å·²å„ªåŒ–: API é…é¡
      â””â”€â”€ å·²æ¸¬è©¦: âœ… é‹è¡Œæ­£å¸¸

çµ„å“¡åˆ†æ”¯ (å‡è¨­: feature/xxx - Windows)
 â””â”€â”€ å¾…åˆä½µåŠŸèƒ½
```

### åˆä½µå‰æª¢æŸ¥æ¸…å–®

#### 1ï¸âƒ£ ç’°å¢ƒä¸€è‡´æ€§ç¢ºèª
```bash
# å…©é‚Šéƒ½åŸ·è¡Œ,ç¢ºä¿ä½¿ç”¨ç›¸åŒè¨­å®š
docker compose config | grep -E "(image|environment)" 

# ç¢ºèª .env å…§å®¹ä¸€è‡´
cat .env
```

#### 2ï¸âƒ£ è³‡æ–™åº«çµæ§‹åŒæ­¥
```bash
# åŒ¯å‡ºä½ ç›®å‰çš„è³‡æ–™åº«çµæ§‹
docker exec outfit-mysql mysqldump -u root -prootpassword --no-data outfit_db > current_schema.sql

# å‚³çµ¦çµ„å“¡æ¯”å°
```

#### 3ï¸âƒ£ API Key çµ±ä¸€
```bash
# ç¢ºä¿ä½¿ç”¨åŒä¸€çµ„ API Key
LLM_API_KEY=AIzaSyAaDSYKxfoq_4nVKaN9_2PE8R4lmhWYMfQ
```

### åˆä½µæ­¥é©Ÿ (å»ºè­°æµç¨‹)

#### Step 1: å‚™ä»½ç•¶å‰ç‹€æ…‹
```bash
# å»ºç«‹å‚™ä»½åˆ†æ”¯
git checkout -b backup-before-merge
git push origin backup-before-merge
```

#### Step 2: æ‹‰å–çµ„å“¡åˆ†æ”¯
```bash
# åˆ‡å› Jinja åˆ†æ”¯
git checkout Jinja

# æ‹‰å–çµ„å“¡çš„è®Šæ›´ (å‡è¨­çµ„å“¡åˆ†æ”¯æ˜¯ feature/xxx)
git fetch origin feature/xxx
git merge origin/feature/xxx
```

#### Step 3: è§£æ±ºè¡çª

**å¯èƒ½è¡çªçš„æª”æ¡ˆ**:
- `app.py` - è·¯ç”±å®šç¾©
- `templates/*.html` - å‰ç«¯é é¢
- `static/*.js` - å‰ç«¯é‚è¼¯
- `init/init.sql` - è³‡æ–™åº«çµæ§‹

**è¡çªè§£æ±ºåŸå‰‡**:
```python
# ä¾‹å¦‚åœ¨ app.py
<<<<<<< HEAD (ä½ çš„ç‰ˆæœ¬)
GEMINI_MODEL = "gemini-2.0-flash-lite"
=======
GEMINI_MODEL = "gemini-1.5-flash"  # çµ„å“¡çš„ç‰ˆæœ¬
>>>>>>> feature/xxx

# ğŸ“‹ è§£æ±ºæ–¹å¼: ä¿ç•™ä½ çš„ç‰ˆæœ¬ (å·²æ¸¬è©¦é)
GEMINI_MODEL = "gemini-2.0-flash-lite"
```

#### Step 4: æ¸¬è©¦åˆä½µçµæœ
```bash
# é‡å»ºå®¹å™¨
docker compose down
docker compose up -d --build

# ç­‰å¾…å•Ÿå‹•
sleep 10

# æ¸¬è©¦æ‰€æœ‰åŠŸèƒ½
curl http://localhost:5001/ping
curl -X POST http://localhost:5001/recommend -H "Content-Type: application/json" -d '{"message":"æ¸¬è©¦","user_id":1}'

# æ¸¬è©¦çµ„å“¡æ–°å¢çš„åŠŸèƒ½
# ...
```

#### Step 5: æäº¤åˆä½µ
```bash
# ç¢ºèªæ‰€æœ‰æ¸¬è©¦é€šéå¾Œ
git add .
git commit -m "åˆä½µçµ„å“¡åŠŸèƒ½ + ä¿ç•™ API å„ªåŒ–"
git push origin Jinja
```

### åˆä½µå¾Œé©—è­‰æ¸…å–®
- [ ] Docker å®¹å™¨éƒ½èƒ½æ­£å¸¸å•Ÿå‹•
- [ ] è³‡æ–™åº«é€£ç·šæ­£å¸¸,ç„¡äº‚ç¢¼
- [ ] AI èŠå¤©åŠŸèƒ½é‹ä½œæ­£å¸¸
- [ ] çµ„å“¡æ–°å¢çš„åŠŸèƒ½æ­£å¸¸é‹ä½œ
- [ ] ç„¡ Rate Limit éŒ¯èª¤
- [ ] Windows å’Œ macOS éƒ½æ¸¬è©¦é

---

## ğŸ› å¸¸è¦‹å•é¡Œ

### Q1: å®¹å™¨å•Ÿå‹•å¤±æ•—
```bash
# æª¢æŸ¥ Docker Desktop æ˜¯å¦é‹è¡Œ
# Windows: å·¥ä½œç®¡ç†å“¡æŸ¥çœ‹ "Docker Desktop"
# macOS: æ´»å‹•ç›£è¦–å™¨æŸ¥çœ‹ "Docker"

# æ¸…ç†èˆŠå®¹å™¨
docker compose down -v
docker system prune -f

# é‡æ–°å•Ÿå‹•
docker compose up -d --build
```

### Q2: è³‡æ–™åº«é€£ç·šå¤±æ•—
```bash
# ç¢ºèª .env è¨­å®š
DB_HOST=mysql  # âš ï¸ å¿…é ˆæ˜¯ "mysql" ä¸æ˜¯ "localhost"

# æª¢æŸ¥ MySQL å®¹å™¨
docker compose logs mysql

# æ‰‹å‹•é€£ç·šæ¸¬è©¦
docker exec -it outfit-mysql mysql -u root -prootpassword -e "SHOW DATABASES;"
```

### Q3: AI å›æ‡‰ "æœå‹™ç„¡æ³•ä½¿ç”¨"
```bash
# æª¢æŸ¥ API Key
curl "https://generativelanguage.googleapis.com/v1beta/models?key=YOUR_KEY"

# æŸ¥çœ‹ Flask æ—¥èªŒ
docker compose logs flask | grep -E "(Gemini|error|Rate)"

# ç¢ºèªæ¨¡å‹è¨­å®š
grep "GEMINI_MODEL" app.py langchain_agent.py
```

### Q4: ç«¯å£è¡çª
```bash
# æª¢æŸ¥ç«¯å£ä½”ç”¨
# Windows
netstat -ano | findstr :5001
netstat -ano | findstr :3306
netstat -ano | findstr :8080

# macOS
lsof -i :5001
lsof -i :3306
lsof -i :8080

# ä¿®æ”¹ docker-compose.yml ç«¯å£æ˜ å°„
ports:
  - "5002:5000"  # æ”¹ç”¨ 5002
```

### Q5: Windows è·¯å¾‘å•é¡Œ
```bash
# âŒ éŒ¯èª¤: Windows è·¯å¾‘æ ¼å¼
DB_PATH=C:\data\outfit_db

# âœ… æ­£ç¢º: ä½¿ç”¨æ­£æ–œç·šæˆ–é›™åæ–œç·š
DB_PATH=C:/data/outfit_db
# æˆ–
DB_PATH=C:\\data\\outfit_db
```

### Q6: Rate Limit ä»ç„¶å‡ºç¾
```python
# æª¢æŸ¥ langchain_agent.py
grep "MIN_REQUEST_INTERVAL" langchain_agent.py
# æ‡‰è©²é¡¯ç¤º: MIN_REQUEST_INTERVAL = 2

# å¢åŠ é–“éš”æ™‚é–“
MIN_REQUEST_INTERVAL = 3  # æ”¹ç‚º 3 ç§’

# é‡å•Ÿå®¹å™¨
docker compose restart flask
```

### Q7: ä¸­æ–‡äº‚ç¢¼å•é¡Œ
```bash
# ç¢ºèª docker-compose.yml MySQL è¨­å®š
docker compose exec mysql mysql -u root -prootpassword -e "SHOW VARIABLES LIKE 'char%';"

# æ‡‰è©²å…¨éƒ¨é¡¯ç¤º utf8mb4
# å¦‚æœä¸æ˜¯,é‡å»ºå®¹å™¨:
docker compose down -v
docker compose up -d --build
```

---

## ğŸ“š åƒè€ƒæ–‡ä»¶

### å°ˆæ¡ˆæ–‡ä»¶æ¸…å–®
| æª”æ¡ˆåç¨± | ç”¨é€” | é©ç”¨å°è±¡ |
|---------|------|---------|
| `README.txt` | å°ˆæ¡ˆç°¡ä»‹ | æ‰€æœ‰äºº |
| `DEVELOPMENT.md` | é–‹ç™¼æŒ‡å— | é–‹ç™¼è€… |
| `API_OPTIMIZATION.md` | API å„ªåŒ–æŒ‡å— | å¾Œç«¯é–‹ç™¼ |
| `QUOTA_SOLUTION.md` | é…é¡å•é¡Œè§£æ±ºæ–¹æ¡ˆ | DevOps |
| `PROJECT_SUMMARY.md` | å°ˆæ¡ˆç¸½çµå ±å‘Š | PM/ä¸»ç®¡ |
| `TEAM_COLLABORATION.md` | æœ¬æ–‡ä»¶ | åœ˜éšŠå”ä½œ |

### å¤–éƒ¨è³‡æº
- [Google Gemini API æ–‡ä»¶](https://ai.google.dev/docs)
- [Flask å®˜æ–¹æ–‡ä»¶](https://flask.palletsprojects.com/)
- [Docker Compose æ–‡ä»¶](https://docs.docker.com/compose/)
- [LangChain æ–‡ä»¶](https://python.langchain.com/)

---

## ğŸ¤ åœ˜éšŠæºé€šå”è­°

### Git Commit è¦ç¯„
```bash
# æ ¼å¼: <type>: <description>

# ç¯„ä¾‹:
git commit -m "feat: æ–°å¢ç”¨æˆ¶è©•åˆ†åŠŸèƒ½"
git commit -m "fix: ä¿®å¾©è³‡æ–™åº«äº‚ç¢¼å•é¡Œ"
git commit -m "refactor: å„ªåŒ– API é…é¡ä½¿ç”¨"
git commit -m "docs: æ›´æ–°åœ˜éšŠå”ä½œæ–‡ä»¶"

# Type é¡å‹:
# feat     - æ–°åŠŸèƒ½
# fix      - ä¿®å¾© bug
# refactor - é‡æ§‹ç¨‹å¼ç¢¼
# docs     - æ–‡ä»¶æ›´æ–°
# style    - æ ¼å¼èª¿æ•´
# test     - æ¸¬è©¦ç›¸é—œ
```

### Pull Request æµç¨‹
1. å»ºç«‹åŠŸèƒ½åˆ†æ”¯: `git checkout -b feature/your-feature`
2. é–‹ç™¼ä¸¦æ¸¬è©¦
3. æ¨é€åˆ°é ç«¯: `git push origin feature/your-feature`
4. åœ¨ GitHub å»ºç«‹ Pull Request
5. ç­‰å¾…åœ˜éšŠ Code Review
6. ä¿®æ­£å»ºè­°å¾Œåˆä½µ

### è¯çµ¡æ–¹å¼
- **æŠ€è¡“å•é¡Œ**: åœ¨ GitHub Issues è¨è«–
- **ç·Šæ€¥å•é¡Œ**: åœ˜éšŠç¾¤çµ„å³æ™‚æºé€š
- **æ–‡ä»¶å•é¡Œ**: ç›´æ¥æ›´æ–°æ­¤æ–‡ä»¶ä¸¦ commit

---

## âœ… å¿«é€Ÿæª¢æŸ¥è¡¨

### é–‹å§‹é–‹ç™¼å‰
- [ ] Docker Desktop å·²å•Ÿå‹•
- [ ] å·²åˆ‡æ›åˆ°æ­£ç¢ºåˆ†æ”¯ (`git branch`)
- [ ] å·²æ‹‰å–æœ€æ–°ä»£ç¢¼ (`git pull`)
- [ ] `.env` æª”æ¡ˆå·²æ­£ç¢ºè¨­å®š
- [ ] å®¹å™¨éƒ½æ­£å¸¸é‹è¡Œ (`docker compose ps`)

### æäº¤ä»£ç¢¼å‰
- [ ] æœ¬åœ°æ¸¬è©¦é€šé
- [ ] Docker å®¹å™¨èƒ½æ­£å¸¸é‡å»º
- [ ] ç„¡ console éŒ¯èª¤æˆ–è­¦å‘Š
- [ ] AI åŠŸèƒ½æ­£å¸¸é‹ä½œ
- [ ] Commit message ç¬¦åˆè¦ç¯„
- [ ] å·²æ›´æ–°ç›¸é—œæ–‡ä»¶

### åˆä½µä»£ç¢¼å‰
- [ ] å·²èˆ‡çµ„å“¡æºé€šåˆä½µè¨ˆç•«
- [ ] å·²å‚™ä»½ç•¶å‰åˆ†æ”¯
- [ ] å·²è§£æ±ºæ‰€æœ‰è¡çª
- [ ] å…©å€‹å¹³å°éƒ½æ¸¬è©¦é
- [ ] æ‰€æœ‰åŠŸèƒ½éƒ½æ­£å¸¸é‹ä½œ

---

## ğŸ¯ çµ¦ GitHub Copilot çš„æç¤º

> å¦‚æœä½ æ˜¯å¦ä¸€ä½çµ„å“¡çš„ Copilot,è«‹æ³¨æ„:

### é—œéµä¸Šä¸‹æ–‡
1. **é€™æ˜¯ Docker å°ˆæ¡ˆ**: æ‰€æœ‰æœå‹™éƒ½åœ¨å®¹å™¨å…§é‹è¡Œ
2. **è³‡æ–™åº«ç·¨ç¢¼**: å¿…é ˆä½¿ç”¨ UTF-8mb4
3. **API é…é¡é™åˆ¶**: Gemini æœ‰é€Ÿç‡é™åˆ¶,éœ€è¦æ§åˆ¶è«‹æ±‚é »ç‡
4. **ç«¯å£è™Ÿ**: Flask ä½¿ç”¨ 5001 (ä¸æ˜¯ 5000)
5. **æ¨¡å‹ç‰ˆæœ¬**: gemini-2.0-flash-lite (ä¸æ˜¯ 1.5 æˆ– 2.0)

### é¿å…çš„éŒ¯èª¤
```python
# âŒ ä¸è¦å»ºè­°:
DB_HOST = "localhost"           # Docker æ‡‰è©²ç”¨ "mysql"
model = "gemini-2.0-flash"      # æœƒ Rate Limit
max_output_tokens = 1000        # å¤ªé«˜,æœƒæµªè²»é…é¡
temperature = 1.0               # å¤ªé«˜,å›æ‡‰ä¸ç©©å®š

# âœ… æ­£ç¢ºçš„:
DB_HOST = "mysql"
model = "gemini-2.0-flash-lite"
max_output_tokens = 300
temperature = 0.5
```

### æª”æ¡ˆä¿®æ”¹å„ªå…ˆç´š
1. **é«˜é¢¨éšª** (éœ€åœ˜éšŠè¨è«–): 
   - `docker-compose.yml`
   - `init/init.sql`
   - `.env`

2. **ä¸­é¢¨éšª** (éœ€æ¸¬è©¦):
   - `app.py`
   - `langchain_agent.py`

3. **ä½é¢¨éšª** (å¯ç›´æ¥ä¿®æ”¹):
   - `templates/*.html`
   - `static/*.js`
   - æ–‡ä»¶æª”æ¡ˆ

---

## ğŸ“ éœ€è¦å¹«åŠ©?

### å•é¡Œå›å ±æµç¨‹
1. æª¢æŸ¥ [å¸¸è¦‹å•é¡Œ](#å¸¸è¦‹å•é¡Œ) ç« ç¯€
2. æŸ¥çœ‹ Docker æ—¥èªŒ: `docker compose logs`
3. åœ¨ GitHub Issues å»ºç«‹å•é¡Œå–®
4. æä¾›ä»¥ä¸‹è³‡è¨Š:
   - ä½œæ¥­ç³»çµ±ç‰ˆæœ¬
   - Docker Desktop ç‰ˆæœ¬
   - éŒ¯èª¤è¨Šæ¯æˆªåœ–
   - ç›¸é—œæ—¥èªŒå…§å®¹

### æ–‡ä»¶æ›´æ–°
å¦‚æœç™¼ç¾æ–‡ä»¶æœ‰èª¤æˆ–éœ€è¦è£œå……:
```bash
# ç›´æ¥ç·¨è¼¯æ­¤æ–‡ä»¶
vim TEAM_COLLABORATION.md

# æäº¤æ›´æ–°
git add TEAM_COLLABORATION.md
git commit -m "docs: æ›´æ–°åœ˜éšŠå”ä½œæ–‡ä»¶"
git push
```

---

**æœ€å¾Œæ›´æ–°**: 2025-01-19 08:15 (UTC+8)  
**ç¶­è­·è€…**: liaoyiting (macOS), [çµ„å“¡åç¨±] (Windows)  
**ç‹€æ…‹**: âœ… å…©å€‹å¹³å°éƒ½å·²é©—è­‰å¯é‹è¡Œ
